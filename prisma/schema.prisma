generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Books {
  BookID             Int            @id
  Title              String?        @db.VarChar(255)
  Author             String?        @db.VarChar(50)
  PublicationDate    DateTime?      @db.Date
  PublishingHouse    String?        @db.VarChar(50)
  ISBN               String?        @db.VarChar(255)
  Price              String?        @db.VarChar(50)
  CategoryID         Int?
  AvailabilityStatus String?        @db.VarChar(50)
  Location           String?        @db.VarChar(100)
  ImgUrl             String?        @db.VarChar(255)
  Introduction       String?        @db.VarChar(255)
  Borrowings         Borrowings[]
  Reservations       Reservations[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Borrowings {
  RecordID      Int       @id @default(autoincrement())
  BookID        Int?
  ReaderID      Int?
  BorrowingDate DateTime? @db.Date
  DueDate       DateTime? @db.Date
  ReturnDate    DateTime? @db.Date
  OverdueStatus Boolean?
  Books         Books?    @relation(fields: [BookID], references: [BookID], onDelete: NoAction, onUpdate: NoAction, map: "Borrowings_ibfk_1")
  Readers       Readers?  @relation(fields: [ReaderID], references: [ReaderID], onDelete: NoAction, onUpdate: NoAction, map: "Borrowings_ibfk_2")

  @@index([BookID], map: "BookID")
  @@index([ReaderID], map: "ReaderID")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Categories {
  CategoryID   Int     @id @default(autoincrement())
  CategoryName String  @db.VarChar(100)
  CategoryChar String? @db.Char(1)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Fines {
  RecordID   Int       @id
  ReaderID   Int?
  FineAmount Decimal?  @db.Decimal(10, 2)
  FineDate   DateTime? @db.Date
  Readers    Readers?  @relation(fields: [ReaderID], references: [ReaderID], onDelete: NoAction, onUpdate: NoAction, map: "Fines_ibfk_1")

  @@index([ReaderID], map: "ReaderID")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Notices {
  NoticeID    Int       @id
  Title       String?   @db.VarChar(100)
  Content     String?   @db.Text
  PublishDate DateTime? @db.Date
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Readers {
  ReaderID           Int            @id
  Name               String?        @db.VarChar(100)
  ContactInformation String?        @db.VarChar(255)
  Password           String?        @db.VarChar(255)
  Borrowings         Borrowings[]
  Fines              Fines[]
  Reservations       Reservations[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Reservations {
  RecordID        Int       @id
  BookID          Int?
  ReaderID        Int?
  ReservationDate DateTime? @db.Date
  PickupStatus    Boolean?
  Books           Books?    @relation(fields: [BookID], references: [BookID], onDelete: NoAction, onUpdate: NoAction, map: "Reservations_ibfk_1")
  Readers         Readers?  @relation(fields: [ReaderID], references: [ReaderID], onDelete: NoAction, onUpdate: NoAction, map: "Reservations_ibfk_2")

  @@index([BookID], map: "BookID")
  @@index([ReaderID], map: "ReaderID")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Users {
  UserID   Int     @id
  Username String? @db.VarChar(100)
  Password String? @db.VarChar(255)
  UserType String? @db.VarChar(50)
}
